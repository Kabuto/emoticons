<!DOCTYPE HTML>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<head>
<title>Icons</title>
<style>
	body {
		overflow-x: hidden;
		width: 100%;
		margin: 0;
		padding: 0;
	}

	p {
		font-size: 40px;
		margin: 0.3em;
		min-height: 54px;
	}

	.control {
		display: inline-block;
		font-size: 40px;
		line-height: 60px;
		width: 60px;
		height: 60px;
		background: #ddd;
		border: 2px outset #ccc;
		border-radius: 8px;
		margin: 8px;
		text-align: center;
		cursor: pointer;
		text-decoration: none;
	}
</style>
</head>
<body>
<script>

let icons = [
	"😄 😃 😀 😊 ☺ ️ 😉 😍 😘 😚 😗 😙 😜 😝 😛 😳 😁 😔 😌 😒 😞 😣 😢 😂 😭 😪 😥 😰 😅 😓 😩 😫 😨 😱 😠 😡 😤 😖 😆 😋 😷 😎 😴 😵 😲 😟 😦 😧 😈 👿 😮 😬 😐 😕 😯 😶 😇 😏 😑 👲 👳 👮 👷 💂 👶 👦 👧 👨 👩 👴 👵 👱 👼 👸 😺 😸 😻 😽 😼 🙀 😿 😹 😾 👹 👺 🙈 🙉 🙊 💀 👽 💩 🔥 ✨ 🌟 💫 💥 💢 💦 💧 💤 💨 👂 👀 👃 👅 👄 👍 👎 👌 👊 ✊ ✌ ️ 👋 ✋ 👐 👆 👇 👉 👈 🙌 🙏 ☝ ️ 👏 💪 🚶 🏃 💃 👫 👪 👬 👭 💏",
	"🐶 🐺 🐱 🐭 🐹 🐰 🐸 🐯 🐨 🐻 🐷 🐽 🐮 🐗 🐵 🐒 🐴 🐑 🐘 🐼 🐧 🐦 🐤 🐥 🐣 🐔 🐍 🐢 🐛 🐝 🐜 🐞 🐌 🐙 🐚 🐠 🐟 🐬 🐳 🐋 🐄 🐏 🐀 🐃 🐅 🐇 🐉 🐎 🐐 🐓 🐕 🐖 🐁 🐂 🐲 🐡 🐊 🐫 🐪 🐆 🐈 🐩 🐾 💐 🌸 🌷 🍀 🌹 🌻 🌺 🍁 🍃 🍂 🌿 🌾 🍄 🌵 🌴 🌲 🌳 🌰 🌱 🌼 🌐 🌞 🌝 🌚 🌑 🌒 🌓 🌔 🌕 🌖 🌗 🌘 🌜 🌛 🌙 🌍 🌎 🌏 🌋 🌌 🌠 ⭐ ☀ ⛅ ☁ ⚡ ☔ ❄ ⛄ 🌀 🌁 🌈 🌊",
	"🎍 💝 🎎 🎒 🎓 🎏 🎆 🎇 🎐 🎑 🎃 👻 🎅 🎄 🎁 🎋 🎉 🎊 🎈 🎌 🔮 🎥 📷 📹 📼 💿 📀 💽 💾 💻 📱 ☎ 📞 📟 📠 📡 📺 📻 🔊 🔉 🔈 🔇 🔔 🔕 📢 📣 ⏳ ⌛ ⏰ ⌚ 🔓 🔒 🔏 🔐 🔑 🔎 💡 🔦 🔆 🔅 🔌 🔋 🔍 🛁 🛀 🚿 🚽 🔧 🔩 🔨 🚪 🚬 💣 🔫 🔪 💊 💉 💰 💴 💵 💷 💶 💳 💸 📲 📧 📥 📤 ✉ 📩 📨 📯 📫 📪 📬 📭 📮 📦 📝 📄 📃 📑 📊 📈 📉 📜 📋 📅 📆 📇 📁 📂 ✂ 📌 📎 ✒ ✏ 📏 📐 📕 📗 📘 📙 📓 📔 📒 📚 📖 🔖 📛 🔬 🔭 📰 🎨 🎬 🎤 🎧 🎼 🎵 🎶 🎹 🎻 🎺 🎷 🎸",
	"🏠 🏡 🏫 🏢 🏣 🏥 🏦 🏪 🏩 🏨 💒 ⛪ 🏬 🏤 🌇 🌆 🏯 🏰 ⛺ 🏭 🗼 🗾 🗻 🌄 🌅 🌃 🗽 🌉 🎠 🎡 ⛲ 🎢 🚢 ⛵ 📠 🚣 ⚓ 🚀 ✈ 💺 🚁 🚂 🚊 🚉 🚞 🚆 🚄 🚅 🚈 🚇 🚝 🚋 🚃 🚎 🚌 🚍 🚙 🚘 🚗 🚕 🚖 🚛 🚚 🚨 🚓 🚔 🚒 🚑 🚐 🚲 🚡 🚟 🚠 🚜 💈 🚏 🎫 🚦 🚥 ⚠ 🚧 🔰 ⛽ 🏮 🎰 ♨ 🗿 🎪 🎭 📍 🚩",
	"1️⃣ 2️⃣ 3️⃣ 4️⃣ 5️⃣ 6️⃣ 7️⃣ 8️⃣ 9️⃣ 0️⃣ 🔟 🔢 #️⃣ 🔣 ⬆ ⬇ ⬅ ➡ 🔠 🔡 🔤 ↗ ↖ ↘ ↙ ↔ ↕ 🔄 ◀ ▶ 🔼 🔽 ↩ ↪ ℹ ⏪ ⏩ ⏫ ⏬ ⤵ ⤴ 🆗 🔀 🔁 🔂 🆕 🆙 🆒 🆓 🆖 📶 🎦 🈁 🈯️ 🈳 🈵 🈴 🈲 🉐 🈹 🈺 🈶 🈚 🚻 🚹 🚺 🚼 🚾 🚰 🚮 🅿 ♿ 🚭 🈷 🈸 🈂 Ⓜ 🛂 🛄 🛅 🛃 🉑 ㊙ ㊗ 🆑 🆘 🆔 🚫 🔞 📵 🚯 🚱 🚳 🚷 🚸 ⛔ ✳ ❇ ❎ ✅ ✴ 💟 🆚 📳 📴 🅰️ 🆑 🆎 🅾️ 💠 ➿ ♻️ ♈ ♉ ♊ ♋ ♌ ♍ ♎ ♏ ♐ ♑ ♒ ♓ ⛎ 🔯 🏧 💹 💲 💱",
].join(" ").split(/ /);

/*
GUI:

* unterste Zeile:
	* [+] = Ein Icon einfügen
	* [-] = Letztes Icon löschen
	* [8] = Link kopieren


*/

function init() {
	document.body.innerHTML = "";

	let controls = document.body.appendChild(document.createElement("div"));

	let appendControl = (tag, clazz, text, onclick) => {
		let control = controls.appendChild(document.createElement(tag));
		control.className = "control control-"+clazz;
		control.textContent = text;
		control.onmousedown = () => false;
		control.onclick = onclick;
		return control;
	}

	appendControl("span", "reset", "↺", () => {
		history.pushState(null,null,"#");
		init();
	});

	let iconRow = null;

	for (let row of decodeURIComponent(location.hash.replace(/^#/,"")).split(/-/)) {
		if (iconRow) {
			document.body.appendChild(document.createElement("hr"));
		}
		iconRow = document.body.appendChild(document.createElement("p"));
		for (let icon of row.split(/\./)) if (icon) {
			iconRow.appendChild(document.createElement("span")).textContent = icon;
		}
	}

	if (!iconRow) {
		iconRow = document.body.appendChild(document.createElement("p"));
	}

	let updateLink = () => {
		link.href = "#" + encodeURIComponent([...document.body.children].filter(child => child.tagName === "P").map(p => [...p.children].map(span => span.textContent).join(".")).join("-"));
		history.replaceState(null, null, link.href);
	}
	
	controls = document.body.appendChild(document.createElement("div"));

	appendControl("span", "add", "+", () => {
		if (!iconRow.lastChild) {
			history.pushState(null,null,location.href);
			console.log("pushed state");
		}
		iconRow.appendChild(document.createElement("span")).textContent = icons[Math.floor(Math.random()*icons.length)];
		updateLink();
	});

	appendControl("span", "remove", "-", () => {
		if (iconRow.lastChild) {
			iconRow.removeChild(iconRow.lastChild);
			updateLink();
			if (!iconRow.lastChild) {
				history.popState();
			}
		}
	});

	let link = appendControl("a", "link", "🔗", () => {
		if (iconRow.textContent) {
			iconRow = document.body.appendChild(document.createElement("p"));
			updateLink();
			init();
		}
	});
}

init();

window.addEventListener("hashchange", init);

</script>